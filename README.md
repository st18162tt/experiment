# 実験説明書

## 実験の目的・内容

この実験は横スクロール型リズムゲームを多数の被験者にプレイしてもらい、そのプレイ内容および成績を集計することを目的としています。

リズムゲーム「太鼓の達人」を模したオープンソースソフトウェア(MIT license)の「TJAPlayer3」を用いてリズムゲームをプレイしていただきます。

## 実験の手順

### 1. 実験環境のダウンロード

このページ右上の「Code」をクリックし、プルダウン内の「Download ZIP」でこのリポジトリをダウンロードする。(または、このリポジトリをクローンする。)

### 2. OpenTaikoの起動

ダウンロードしたzipファイルを任意の場所に展開したのち、"TJAPlayer3_v5.2.10"ディレクトリ内のTJAPlayer3.exeを実行する。

もしセキュリティ上の通知が表示された場合、"詳細情報"をクリックしたのち、実行をクリックする。

### 3. OpenTaikoの操作 -選曲まで-

#### 操作方法(メニュー画面)

* 矢印左右キー: 選択
* enter: 決定
* esc: 戻る

#### 操作手順

1. "start"を選択して決定する。(音が出ます。音量注意。)

2. "Classical"を選択して決定する。

3. この画面のままで次の説明へ。

### 4. 実プレイ前の説明

#### ゲーム内容の説明

<details><summary>ゲーム「太鼓の達人」を知っている人向けの説明（クリックで開けます）</summary>

##### 概要

「太鼓の達人」を模したゲームをプレイしていただきます。

* 曲はオッフェンバック作の「天国と地獄 序曲」です。運動会で流れてそうなあのクラシック曲です。
* 難易度は"ふつう"です。
* この実験では、**なるべく高いスコアが得られるようにプレイしてください。**「高スコアを狙う」≒「クリアやフルコンボ、全良を狙う」ですが、これらは当実験の目標ではありません。)

##### 高スコア獲得のヒント

* コンボ数は獲得できるスコアに影響しません。（いわゆる真打モード）
* タイミングの判定は"良">"可">"不可"の順で、より良い判定の方が高いスコアが得られます。ただし、"不可"で得られるスコアは0です。
* 大音符は**片手で叩くだけ**で通常の音符より多くのスコアが獲得できます。
* 連打もスコアに影響します。ですので、なるべく無視せず叩いてください。
* **曲の盛り上がりに合わせて発生するゴーゴータイム(判定枠に火が付いている状態)では、獲得スコアが上昇します。**

</details>

<details><summary>ゲーム「太鼓の達人」を知らない人向けの説明（クリックで開けます）</summary>

##### はじめに

曲とともに流れてくる音符に合わせて太鼓を叩くリズムゲームをプレイしていただきます。まずゲームの説明をします。

##### 画面の説明

![ゲーム画面説明用画像](img/display_discription.png)

1. 音符
プレイヤーがタイミングを合わせて叩く音符。画面の右端から左へ流れてくる。いくつか種類があり、それぞれ叩き方が異なる。（後述）
2. 判定枠
この枠の中心に音符が重なった瞬間に太鼓を叩く。
3. 現在の獲得スコア
タイミングよく音符をたたくことでスコアが得られ、その合計値がここに表示される。

##### 音符の種類

![音符説明用画像](img/Notes.png)

左から順に、

* 面(ドン) : FまたはJキーで太鼓の面をたたく。
* ふち(カッ) : DまたはKキーで太鼓のふちをたたく。
* 大音符(面) : 通常より多くのスコアを獲得できる面。操作は面と全く同じ。**両手で同時に叩いたりする必要はありません**。
* 大音符(ふち) : 大音符(面)と同様。
* 連打 : 面またはふちを連打する。叩けた回数に比例してスコアを獲得できる。
* 大連打 : 通常より多くのスコアを獲得できる連打。
* ふうせん連打 : ふうせんが割れるまで連打する。叩いた回数に応じてスコアが獲得できるが、一定時間内にふうせんが割れなかった場合、ふうせん連打は終了してしまうので要注意。

##### 判定(タイミング)の説明

前述の通り、音符は判定枠に重なった瞬間にたたくことでスコアが得られます(連打系の音符を除く)。そのタイミングの良さに応じて三段階の評価が判定枠の上部に表示されます。判定の評価が良い順から、

* 良 : ほとんどずれがなく音符をたたけている。最も良い判定であり、最も多くのスコアを獲得できる。
* 可 : 音符をたたくタイミングが少し早い、または遅い。Goodよりも少ないスコアが獲得できる。
* 不可 : 音符をたたくタイミングがかなり早い、または遅い。または、音符をたたけずに逃してしまった。スコアは獲得できない。(獲得スコアは0)

##### プレイ内容

* 曲は、オッフェンバック作の「天国と地獄 序曲」です。運動会で流れてそうなあのクラッシク曲です。
* **曲終了時の総獲得スコアがなるべく多くなるように頑張ってプレイしてください。**

##### 高スコア獲得のヒント

* コンボ数(GoodまたはOk判定で連続でたたけている数)は獲得できるスコアに影響しません。
* **曲の盛り上がりに合わせて発生するゴーゴータイム(判定枠に火が付いている状態)では、獲得スコアが上昇します。**

</details>

#### 操作方法

* F, Jキー: 面をたたく（ドン）
* D, Kキー: ふちをたたく（カッ）

### 5. 実プレイ手順

**この章の説明は特に重要です。**

1. まず、この曲の難易度"かんたん"をプレイしていただきます。これはこのゲームの操作方法や内容の確認、練習を目的としています。条件をそろえるため、このゲームの腕に自信がある人も必ず一度プレイしてください。
**上下矢印キーで難易度の選択ができる**ので、"COURSE:0"を選択し、enterキーで決定してください。ゲームが始まるので、曲が終了するまでプレイしてください。

2. 次に、この曲の難易度"ふつう"をプレイしていただきます。**プレイを始める前に、必ず次の２つの記録用ソフトを起動してください。
* windows + alt + R キーを押して画面録画をしてください。画面右上に録画中の表示が出たことを確認してください。**録画中はゲームのウィンドウを閉じないでください。録画が終了してしまいます。**
* ダウンロードしたファイルに入っているkeylogger.exeを実行してください。そして、コンソール画面に"Recording..."と表示されているのを確認してください。また、**これ以降は、ゲームが始まり、最初の１音符目をたたくまでF,J,D,Kキーを押さないようにしてください。** 実験結果が誤って記録されてしまいます。

3. keylogger.exeの起動確認後、上下矢印キーで"COURSE:1"を選択し、enterキーで決定してください。ゲームが始まるので、曲が終了するまでプレイしてください。

4. 曲が終了したら、shift + Q キーを押してください。keylogger.exeが終了し、同ディレクトリ内にkeylog(実行日時).csvファイルが生成されます。(**ウィンドウ右上の×はクリックしないでください。** ファイルが生成されずに終了してしまいます。)

5. 画面右上の録画表示の中の停止ボタンをクリックしてください。録画が終了します。

5. ウィンドウ右上の×をクリック、またはescキーを数回押してTJAPlayer3を終了してください。

### 6. 実験結果の収集およびアンケート

以下のフォームに回答してください。
<https://docs.google.com/forms/d/e/1FAIpQLSfhcffx-pZ3EqFYODiQC7T1wTb2zpv_bXl3SMp_oJ7g2kjyyQ/viewform?usp=sf_link>

## 最後に

以上で実験は全て終了です。本日は貴重な時間を割いてのご協力ありがとうございました。
